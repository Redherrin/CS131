Script started on 2022-10-14 07:26:00-04:00
kkevin@sjsu:~\[kevin@sjsu ~]$ wc -l top_1k_amacusto_sed.txt [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[1Pless[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Csed s/'\s\+[0-9]\+ '// top_1k_amacusto.txt > top_1k_amacusto_sed.txt[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ccut -f 2 amazon_reviews_us_Books_v1_02.tsv | sort | uniq -c | sort -n -k 1 | tail -n 1000 > top_1k_amacusto.txt[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[43Psed s/'\s\+[0-9]\+ '// top_1k_amacusto.txt > top_1k_amacusto_sed.txt[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[39Pless top_1k_amacusto_sed.txt [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[1@wc -l[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Kwc -l top_1k_amacusto_sed.txt [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[1Pless[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Csed s/'\s\+[0-9]\+ '// top_1k_amacusto.txt > top_1k_amacusto_sed.txt[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ccut -f 2 amazon_reviews_us_Books_v1_02.tsv | sort | uniq -c | sort -n -k 1 | tail -n 1000 > top_1k_amacusto.txt[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Csftp --version[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Kcut -f 2 amazon_reviews_us_Books_v1_02.tsv | sort | uniq -c | sort -n -k 1 | tail -n 1000 | sed s/'\s\+[0-9]\+ '// > top_1k_amacusto_sed.txt
kkevin@sjsu:~\[kevin@sjsu ~]$ [K[kevin@sjsu ~]$ [K[kevin@sjsu ~]$ [K[kevin@sjsu ~]$ [K[kevin@sjsu ~]$ [K[kevin@sjsu ~]$ [K[kevin@sjsu ~]$ exit

Script done on 2022-10-14 07:28:08-04:00
Script started on 2022-10-14 07:28:43-04:00
kkevin@sjsu:~\[kevin@sjsu ~]$ cut -f2,14 amazon_reviews_us_Books_v1_02.tsv | for cust_id in `cat top_1k_amacusto_sed.txt` ; do grep -A 0 --group-separator=----------------------------------------------------------- -E ^$cust_id | sed -r "s/^[0-9]+\s//" > WS5/CUSTOMERS/"$cust_id"_reviews.txt ; done

kkevin@sjsu:~\[kevin@sjsu ~]$ exit

Script done on 2022-10-14 07:29:18-04:00

The first command just creates a file of the top 1k reviewers. Then the second command takes that line as input to grep the amazon file. The grep will add in a ----- break between each review which I thought made it easier to read.
